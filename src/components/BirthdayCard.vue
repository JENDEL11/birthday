<script setup>
import { ref } from 'vue'
import { createConfetti } from '../utils/animations'

const cardFlipped = ref(false)

const flipCard = () => {
  cardFlipped.value = !cardFlipped.value
  if (cardFlipped.value) {
    createConfetti(100)
  }
}
</script>

<template>
  <div class="card-wrapper">
    <p class="instruction">ðŸ‘‡ Click the card to flip it! ðŸ‘‡</p>
    <div class="card-scene">
      <div
        class="card-3d"
        :class="{ flipped: cardFlipped }"
        @click="flipCard"
      >
        <div class="card-face card-front">
          <div>
            <div style="font-size: 3em;">ðŸŽ‚</div>
            <div>Click to Open!</div>
          </div>
        </div>
        <div class="card-face card-back">
          <div>
            <h2>Wishing You...</h2>
            <p>
              An amazing year filled with laughter, adventure, and unforgettable memories!
              May all your dreams come true and may this year be your best one yet!
              You deserve all the happiness in the world! ðŸŽˆâœ¨
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<style scoped>
.card-wrapper {
  margin: 50px 0;
}

.instruction {
  color: white;
  text-align: center;
  font-size: 1.2em;
  margin: 20px 0;
  animation: pulse 2s infinite;
}

.card-scene {
  perspective: 1500px;
  margin: 50px auto;
  width: 600px;
  height: 400px;
}

.card-3d {
  width: 100%;
  height: 100%;
  position: relative;
  transform-style: preserve-3d;
  transition: transform 1s;
  cursor: pointer;
}

.card-3d.flipped {
  transform: rotateY(180deg);
}

.card-face {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  border-radius: 20px;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 2em;
  font-weight: bold;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
}

.card-front {
  background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
  color: #333;
}

.card-back {
  background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
  color: #333;
  transform: rotateY(180deg);
  padding: 40px;
  text-align: center;
}

.card-back h2 {
  font-size: 1.2em;
  margin-bottom: 20px;
}

.card-back p {
  font-size: 0.5em;
  line-height: 1.6;
}

@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

@media (max-width: 768px) {
  .card-scene {
    width: 90%;
    height: 300px;
  }
}
</style>
